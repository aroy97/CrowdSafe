<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button>
      </ion-menu-button>
  </ion-buttons>
    <ion-title>Register Page</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ngx-loading [show]="userloader" [config]="{fullScreenBackdrop: true }"></ngx-loading>
  <div class="error" *ngIf = "errorflag">
    <div class="alert" style="text-align: center;">
      <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
      <div>{{errorMsg}}</div>
    </div>
  </div>
  <div class = "requestOtp" *ngIf = "!otpValidate && !registerflag">
    <div class="row">
      <div class="title col-sm-12" style="text-align: center;">
        Please enter your Email ID to receive OTP for registration
      </div>
    </div>
    <div class="row">
      <form class="form-horizontal col-sm-12" style="text-align: center;">
        <div class="form-group col-sm-12">
          <div class="row">
            <label class="control-label col-sm-2">Email ID:</label>
            <div class="col-sm-8">
                <input class="form-control" type="email" [(ngModel)]="email" placeholder="Enter Email" [ngModelOptions]="{standalone: true}">
            </div>
            <div class="col-sm-2"></div>
          </div>
        </div>
        <div class="form-group">        
          <div class="col-sm-offset-2 col-sm-12 form-register">
            <button (click) = "requestOtp()" class="btn btn-warning register-button">Send OTP</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class = "validateOtp" *ngIf = "otpValidate && !registerflag">
    <div class="row">
      <div class="title col-sm-12" style="text-align: center;">
        Please enter OTP received in you email ID
      </div>
    </div>
    <div class="row">
      <form class="form-horizontal col-sm-12" style="text-align: center;">
        <div class="form-group">
          <div class="row">
            <label class="control-label col-sm-2">Enter OTP:</label>
            <div class="col-sm-8">
                <input class="form-control" type="email" [(ngModel)]="otp" placeholder="Enter OTP" [ngModelOptions]="{standalone: true}">
            </div>
            <div class="col-sm-2"></div>
          </div>
        </div>
        <div class="form-group">        
          <div class="col-sm-offset-2 col-sm-12 form-register">
            <button (click) = "validateOtp()" class="btn btn-warning register-button">Validate OTP</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class = "registerUser" *ngIf = "registerflag">
    <div class="row">
      <div class="title col-sm-12" style="text-align: center;">
        Please enter Credentials to Register
      </div>
    </div>
    <div class="row">
      <form class="form-horizontal col-sm-12" style="text-align: center;">
        <div class="form-group">
          <div class="row">
            <label class="control-label col-sm-2">Email ID:</label>
            <div class="col-sm-8">
                <input class="form-control" type="email" [(ngModel)]="email" placeholder="Enter Email" [ngModelOptions]="{standalone: true}">
            </div>
            <div class="col-sm-2"></div>
          </div>
        </div>
        <div class="form-group">
          <div class="row">
            <label class="control-label col-sm-2" for="name">Phone:</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" [(ngModel)]="phonenumber" placeholder="Enter Phone" [ngModelOptions]="{standalone: true}">
            </div>
            <div class="col-sm-2"></div>
          </div>
        </div>
        <div class="form-group">
          <div class="row">
            <label class="control-label col-sm-2" for="pwd">Password:</label>
            <div class="col-sm-8">          
              <input class="form-control" type="password" [(ngModel)]="password" placeholder="Enter Password" [ngModelOptions]="{standalone: true}">
            </div>
            <div class="col-sm-2"></div>
          </div>
        </div>
        <div class="form-group">
          <div class="row">
            <label class="control-label col-sm-2" for="pwd">Confirm Password:</label>
            <div class="col-sm-8">          
                <input class="form-control" type="password" [(ngModel)]="confirmPassword" placeholder="Confirm Password" [ngModelOptions]="{standalone: true}">
            </div>
            <div class="col-sm-2"></div>
          </div>
        </div>
        <div class="form-group">        
            <div class="col-sm-offset-2 col-sm-12">
                <button (click) = "registerUser()" class="btn btn-warning register-button">Register</button>
            </div>
        </div>
      </form>
    </div>
  </div>
  
</ion-content>
